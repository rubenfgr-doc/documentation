<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.73">
<link rel="alternate" type="application/rss+xml" href="/documentation/blog/rss.xml" title="RubenFGR Documentación Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/documentation/blog/atom.xml" title="RubenFGR Documentación Blog Atom Feed"><title data-react-helmet="true">Vsftpd Ubuntu 20.04 | RubenFGR Documentación</title><meta data-react-helmet="true" property="og:url" content="https://blogdeldesarrollador.com/documentation/Servidores/FTP/vsftpd_ubuntu20"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Vsftpd Ubuntu 20.04 | RubenFGR Documentación"><meta data-react-helmet="true" name="description" content="Instalación"><meta data-react-helmet="true" property="og:description" content="Instalación"><link data-react-helmet="true" rel="shortcut icon" href="https://raw.githubusercontent.com/rubenfgr/rubenfgr.github.io/b5205014cf5535234f31c5656431a493667a8121/assets/img/logotipo.svg"><link data-react-helmet="true" rel="canonical" href="https://blogdeldesarrollador.com/documentation/Servidores/FTP/vsftpd_ubuntu20"><link data-react-helmet="true" rel="alternate" href="https://blogdeldesarrollador.com/documentation/Servidores/FTP/vsftpd_ubuntu20" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://blogdeldesarrollador.com/documentation/Servidores/FTP/vsftpd_ubuntu20" hreflang="x-default"><link rel="stylesheet" href="/documentation/assets/css/styles.04fe336b.css">
<link rel="preload" href="/documentation/assets/js/styles.3a05b651.js" as="script">
<link rel="preload" href="/documentation/assets/js/runtime~main.a00b152d.js" as="script">
<link rel="preload" href="/documentation/assets/js/main.6d47617f.js" as="script">
<link rel="preload" href="/documentation/assets/js/1.52002ba1.js" as="script">
<link rel="preload" href="/documentation/assets/js/2.a9b8081e.js" as="script">
<link rel="preload" href="/documentation/assets/js/17.e72620eb.js" as="script">
<link rel="preload" href="/documentation/assets/js/935f2afb.25860569.js" as="script">
<link rel="preload" href="/documentation/assets/js/17896441.10f44eba.js" as="script">
<link rel="preload" href="/documentation/assets/js/43983182.261b9778.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/documentation/"><img src="https://raw.githubusercontent.com/rubenfgr/rubenfgr.github.io/b5205014cf5535234f31c5656431a493667a8121/assets/img/logotipo.svg" alt="RubenFGR" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="https://raw.githubusercontent.com/rubenfgr/rubenfgr.github.io/b5205014cf5535234f31c5656431a493667a8121/assets/img/logotipo.svg" alt="RubenFGR" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Ruben FGR - Documentación</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/documentation/"><img src="https://raw.githubusercontent.com/rubenfgr/rubenfgr.github.io/b5205014cf5535234f31c5656431a493667a8121/assets/img/logotipo.svg" alt="RubenFGR" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="https://raw.githubusercontent.com/rubenfgr/rubenfgr.github.io/b5205014cf5535234f31c5656431a493667a8121/assets/img/logotipo.svg" alt="RubenFGR" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Ruben FGR - Documentación</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/documentation/">Inicio</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Git</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/Git/0referencia">Referencia</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/Git/consejos">Consejos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/Git/enlaces">Enlaces de interés</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/Git/merge_vs_rebase">Merge VS Rebase</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Microservicios</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Docker</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/Microservicios/Docker/0referencia">Referencia</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/Microservicios/Docker/aliases">Aliases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/Microservicios/Docker/dockerfiles">Dockerfiles</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Servidores</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Apache</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/Servidores/Apache/0referencia">Referencia</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">FTP</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/documentation/Servidores/FTP/vsftpd_ubuntu20">Vsftpd Ubuntu 20.04</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Vsftpd Ubuntu 20.04</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="instalación"></a>Instalación<a class="hash-link" href="#instalación" title="Direct link to heading">#</a></h2><p><code>sudo apt install vsftpd</code></p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="iniciar-y-parar"></a>Iniciar y parar<a class="hash-link" href="#iniciar-y-parar" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><div tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo service vsftpd stop</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo service vsftpd reload</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo service vsftpd restart</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo service vsftpd status</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="configuración-etcvsftpdconf"></a>Configuración /etc/vsftpd.conf<a class="hash-link" href="#configuración-etcvsftpdconf" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parámetros-más-importantes"></a>Parámetros más importantes<a class="hash-link" href="#parámetros-más-importantes" title="Direct link to heading">#</a></h3><ul><li><code>write_enable=YES</code>. Habilitar la escritura</li><li><code>local_umask=022</code>. Nuevos permisos para los datos copiados al servidor. Por defecto es 077</li><li><code>ftpd_banner</code>. Habilitar un banner de inicio de sesión</li><li><code>chroot_list_enable=YES</code>. Los usuarios solo acceden dentro de su directorio /home/usuario</li><li><code>chroot_list_file=/etc/vsftpd.chroot_list</code>. Lista de usuarios con sus rutas predeterminadas (poner un nombre de usuario por línea)</li><li><code>anonymousenable=NO</code>. Deshabilita usuarios anónimos</li><li><code>anon_upload_enable=YES</code>. Habilitar/Deshabilitar subida de archivos por usuarios anónimos</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="agregar-un-usuario"></a>Agregar un usuario<a class="hash-link" href="#agregar-un-usuario" title="Direct link to heading">#</a></h2><p><code>sudo adduser rubenfgr</code></p><p>En este momento ya se puede acceder al servidor con el usuario y contraseña creado</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="otras-configuraciones"></a>Otras configuraciones<a class="hash-link" href="#otras-configuraciones" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="habilitar-ftps"></a>Habilitar FTPS<a class="hash-link" href="#habilitar-ftps" title="Direct link to heading">#</a></h3><p><code>ssl_enable=YES</code></p><p>En este momento ya se puede acceder por SSL/TLS ya que en la instalación de vsftps, por defecto, genera los certificados RSA necesarios.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="otras-directivas-para-ssltls"></a>Otras directivas para SSL/TLS<a class="hash-link" href="#otras-directivas-para-ssltls" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><div tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">llow_anon_ssl=NO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">force_local_data_ssl=YES</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">force_local_logins_ssl=YES</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ssl_tlsv1_1=NO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ssl_tlsv1_2=YES</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ssl_tlsv1_3=YES</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ssl_tlsv1=NO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ssl_sslv2=NO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ssl_sslv3=NO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">require_ssl_reuse=YES</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ssl_ciphers=HIGH</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="puertos-pasv-conexión-de-control"></a>Puertos PASV (conexión de control)<a class="hash-link" href="#puertos-pasv-conexión-de-control" title="Direct link to heading">#</a></h2><p>Importante si se quieren habilitar los puertos en el cortafuegos</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><div tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pasv_max_port=10000</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pasv_min_port=9000</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="propietario-y-permisos"></a>Propietario y permisos<a class="hash-link" href="#propietario-y-permisos" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><div tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Cambiar el propietario</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo chown user:user directorio|fichero</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo chown -R user:user directorio # recursivo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Permisos</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo chmod 777 directorio|fichero</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo chmod 777 -R directorio # recursivo</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ejemplo-para-el-directorio-varwwwhtml"></a>Ejemplo para el directorio /var/www/html<a class="hash-link" href="#ejemplo-para-el-directorio-varwwwhtml" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><div tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Ajustamos propietario y grupo (habitualmente será www-data)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">chown -R www-data:www-data /var/www/html/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Ajustamos permisos en ficheros y directorios</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">find /var/www/html/ -type d -exec chmod 0755 {} \;   # rwxr-xr-x</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">find /var/www/html/ -type f -exec chmod 0644 {} \;   # rw-r--r--</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/Servidores/FTP/vsftpd_ubuntu20.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/documentation/Servidores/Apache/0referencia"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Referencia</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#instalación" class="table-of-contents__link">Instalación</a></li><li><a href="#iniciar-y-parar" class="table-of-contents__link">Iniciar y parar</a></li><li><a href="#configuración-etcvsftpdconf" class="table-of-contents__link">Configuración /etc/vsftpd.conf</a><ul><li><a href="#parámetros-más-importantes" class="table-of-contents__link">Parámetros más importantes</a></li></ul></li><li><a href="#agregar-un-usuario" class="table-of-contents__link">Agregar un usuario</a></li><li><a href="#otras-configuraciones" class="table-of-contents__link">Otras configuraciones</a><ul><li><a href="#habilitar-ftps" class="table-of-contents__link">Habilitar FTPS</a></li><li><a href="#otras-directivas-para-ssltls" class="table-of-contents__link">Otras directivas para SSL/TLS</a></li></ul></li><li><a href="#puertos-pasv-conexión-de-control" class="table-of-contents__link">Puertos PASV (conexión de control)</a></li><li><a href="#propietario-y-permisos" class="table-of-contents__link">Propietario y permisos</a></li><li><a href="#ejemplo-para-el-directorio-varwwwhtml" class="table-of-contents__link">Ejemplo para el directorio /var/www/html</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">
        Copyright © 2021, Rubén Francisco Gazquez Rosales<br>
        Documentación para el desarrollo de aplicaciones multiplataforma y web, sistemas e iot<br>
        Construido con Docusaurus v2
      </div></div></div></footer></div>
<script src="/documentation/assets/js/styles.3a05b651.js"></script>
<script src="/documentation/assets/js/runtime~main.a00b152d.js"></script>
<script src="/documentation/assets/js/main.6d47617f.js"></script>
<script src="/documentation/assets/js/1.52002ba1.js"></script>
<script src="/documentation/assets/js/2.a9b8081e.js"></script>
<script src="/documentation/assets/js/17.e72620eb.js"></script>
<script src="/documentation/assets/js/935f2afb.25860569.js"></script>
<script src="/documentation/assets/js/17896441.10f44eba.js"></script>
<script src="/documentation/assets/js/43983182.261b9778.js"></script>
</body>
</html>