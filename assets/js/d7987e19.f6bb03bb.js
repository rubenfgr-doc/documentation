(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{83:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return l})),t.d(a,"metadata",(function(){return c})),t.d(a,"toc",(function(){return o})),t.d(a,"default",(function(){return b}));var r=t(3),n=(t(0),t(89));const l={title:"Referencia"},c={unversionedId:"Servidores/Apache/0referencia",id:"Servidores/Apache/0referencia",isDocsHomePage:!1,title:"Referencia",description:"Instalaci\xf3n",source:"@site/docs/Servidores/Apache/0referencia.md",sourceDirName:"Servidores/Apache",slug:"/Servidores/Apache/0referencia",permalink:"/documentation/Servidores/Apache/0referencia",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/Servidores/Apache/0referencia.md",version:"current",frontMatter:{title:"Referencia"},sidebar:"tutorialSidebar",previous:{title:"Dockerfiles",permalink:"/documentation/Microservicios/Docker/dockerfiles"},next:{title:"Vsftpd Ubuntu 20.04",permalink:"/documentation/Servidores/FTP/vsftpd_ubuntu20"}},o=[{value:"Instalaci\xf3n",id:"instalaci\xf3n",children:[]},{value:"Modos (mpm)",id:"modos-mpm",children:[]},{value:"Peticiones al servidor",id:"peticiones-al-servidor",children:[]},{value:"Configuraci\xf3n",id:"configuraci\xf3n",children:[]},{value:"Directivas",id:"directivas",children:[{value:"M\xf3dulo Core",id:"m\xf3dulo-core",children:[]},{value:"La secci\xf3n &quot;Location&quot;",id:"la-secci\xf3n-location",children:[]},{value:"Secciones &quot;DiretoryMatch y LocationMatch&quot;",id:"secciones-diretorymatch-y-locationmatch",children:[]}]},{value:"Variables de entorno",id:"variables-de-entorno",children:[]},{value:"Virtual Host",id:"virtual-host",children:[]},{value:"M\xf3dulos",id:"m\xf3dulos",children:[]},{value:"Tipos MIME",id:"tipos-mime",children:[]},{value:"Autenticaci\xf3n y autorizaci\xf3n",id:"autenticaci\xf3n-y-autorizaci\xf3n",children:[{value:"Autenticaci\xf3n",id:"autenticaci\xf3n",children:[]},{value:"Otras formas de limitar los recursos",id:"otras-formas-de-limitar-los-recursos",children:[]},{value:"Redirecci\xf3n",id:"redirecci\xf3n",children:[]}]},{value:"SSL/TLS - HTTPS",id:"ssltls---https",children:[{value:"Generar certificado digital autofirmado",id:"generar-certificado-digital-autofirmado",children:[]},{value:"Generar certificados con OpenSSL",id:"generar-certificados-con-openssl",children:[]}]},{value:"Log",id:"log",children:[{value:"Log de apache en formato CLF",id:"log-de-apache-en-formato-clf",children:[]},{value:"Comprobar logs en Linux",id:"comprobar-logs-en-linux",children:[]},{value:"Directivas para archivos de registro",id:"directivas-para-archivos-de-registro",children:[]},{value:"Rotar los archivos de log para controlar su tama\xf1o en el tiempo",id:"rotar-los-archivos-de-log-para-controlar-su-tama\xf1o-en-el-tiempo",children:[]},{value:"Encontrar rotatelogs en Linux o instalar en caso necesario",id:"encontrar-rotatelogs-en-linux-o-instalar-en-caso-necesario",children:[]},{value:"Uso de logrotate (Linux)",id:"uso-de-logrotate-linux",children:[]}]},{value:"Tomcat",id:"tomcat",children:[{value:"Instalaci\xf3n desde repositorio",id:"instalaci\xf3n-desde-repositorio",children:[]},{value:"Instalaci\xf3n manual",id:"instalaci\xf3n-manual",children:[]}]}],i={toc:o};function b({components:e,...a}){return Object(n.b)("wrapper",Object(r.a)({},i,a,{components:e,mdxType:"MDXLayout"}),Object(n.b)("h2",{id:"instalaci\xf3n"},"Instalaci\xf3n"),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},"apt-get install apache2\n\n# Comprobar los m\xf3dulos de PHP e instalar\napt-cache search php | grep apache2\napt-get install libapache2-mod-php7.4\n\n# Comprobar los m\xf3dulos de MySQL e instalar\napt-cache search mysql-server\napt-get install mysql-server\napt-cache search mysql | grep php\napt-get install php7.4-mysql\n")),Object(n.b)("hr",null),Object(n.b)("h2",{id:"modos-mpm"},"Modos (mpm)"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"mpm_prefork"),". M\xe1s antiguo. Crea diferentes procesos independientes para manejar las diferentes peticiones. Trabajo seguro con PHP sin hilos. Consume muchos recursos (RAM y CPU)"),Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"mpm_worker"),". Este m\xf3dulo usa procesos y al mismo tiempo hace uso de threads (tambi\xe9n llamados hilos), es decir, combina las t\xe9cnicas de forking y threading. S\xf3lo soporta m\xf3dulos de Apache que sean thread-safe. El mod_php es incompatible, la alternativa es el mod php-fpm."),Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"mpm_event"),". Versi\xf3n mejorada de worker y mejora el rendimiento durante las peticiones con Keep Alive. No es compatible con mod_php y se debe usar php-fpm.")),Object(n.b)("hr",null),Object(n.b)("h2",{id:"peticiones-al-servidor"},"Peticiones al servidor"),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},"sudo apt-get install apache2-utils\n# Ayuda\nab help\n# Peticiones concurrentes (-c) + n\xfamero de petciiones (-n) + host\nab -c 100 -n 1000 localhost\n")),Object(n.b)("hr",null),Object(n.b)("h2",{id:"configuraci\xf3n"},"Configuraci\xf3n"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Archivo de configuraci\xf3n")),Object(n.b)("p",null,Object(n.b)("inlineCode",{parentName:"p"},"/etc/apache2/apache2.conf")),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Comprobar la configuraci\xf3n en los archivos")),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},"apachectl configtest\n")),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Iniciar, parar o reiniciar")),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},"service apache2 start\nservice apache2 stop\nservice apache2 restart\n")),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Comprobar el puerto a la escucha")),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},"sudo netstat -putona | grep apache\n")),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Host y puerto de escucha")),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},"# Editar el fichero ports.conf\nListen 80\nListen 8080\n")),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Directorio raiz para servir los archivos")),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},"DocumentRoot /var/www/html\n")),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Index del directorio")),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},"DirectoryIndex index.html test.html etc.html\n")),Object(n.b)("hr",null),Object(n.b)("h2",{id:"directivas"},"Directivas"),Object(n.b)("blockquote",null,Object(n.b)("p",{parentName:"blockquote"},"Listen\nDocumentRoot\nInclude\nIncludeOptional")),Object(n.b)("h3",{id:"m\xf3dulo-core"},"M\xf3dulo Core"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},Object(n.b)("strong",{parentName:"p"},"ServerRoot")," No necesario. Directorio de configuraci\xf3nd de Apache")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},Object(n.b)("strong",{parentName:"p"},"ServerName")," ",Object(n.b)("a",{parentName:"p",href:"http://www.example.local"},"www.example.local"),"** Nombre de dominio para un VirtualHost. Se debe registrar en /etc/hosts")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},Object(n.b)("strong",{parentName:"p"},'ServerAdmin "',Object(n.b)("a",{parentName:"strong",href:"mailto:mail-admin@admin.local"},"mail-admin@admin.local"),'"'))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},Object(n.b)("strong",{parentName:"p"},'ErrorLog "/var/log/httpd/error_log"'))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},Object(n.b)("strong",{parentName:"p"},"KeepAlive on")," Permite conexiones persistentes.")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},Object(n.b)("strong",{parentName:"p"},"VirtualHost"),' Deshabilitar con "off"')),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},Object(n.b)("strong",{parentName:"p"},"Timeout 60")," Tiempo de espera del servidor para cerrar conexi\xf3n")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},Object(n.b)("strong",{parentName:"p"},"ServerTokens Full")," Nivel de detalle de la cabecera que el servidor envia al cliente")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},Object(n.b)("strong",{parentName:"p"},"M\xf3dulo base mod_alias")))),Object(n.b)("blockquote",null,Object(n.b)("ul",{parentName:"blockquote"},Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"Alias")," Permite direccionar una carpeta que este fuera del arbol de directorios"))),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"M\xf3dulo base mod_userdir"))),Object(n.b)("blockquote",null,Object(n.b)("ul",{parentName:"blockquote"},Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"UserDir")," Permite servir p\xe1ginas alojas dentro del directorio principal de cada usuario del sistema. Configuraci\xf3n habitual: ",Object(n.b)("strong",{parentName:"li"},Object(n.b)("em",{parentName:"strong"},"/home/test/public_html"))," accedido con ",Object(n.b)("strong",{parentName:"li"},Object(n.b)("em",{parentName:"strong"},"http://localhost/~test"))))),Object(n.b)("p",null,"Las directivas permiten E.R, por ejemplo:"),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},'<Directory /var/www/html/te*>\n    Options +Indexes # Si en la url no se especifica el recurso muestra un listado, con "-" ser\xeda "Forbidden"\n    AllowOverride AuthConfig # Permite sobreescribir directivas con .htaccess\n</Directory>\n')),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"Archivos .htaccess"))),Object(n.b)("p",null,"Estos archivos se crean en los diretorios del sitio web.\nPermiten directivas aplicables en el contexto .htaccess.\nEl servidor no necesita reiniciarse."),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},"# Archivo .htaccess en /home/www/html/test/private\nRequire all denied\n")),Object(n.b)("p",null,'El conjunto de directivas aplicables se limita por "AllowOverride":'),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"AllowOverride All")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"AllowOverride AuthConfig"),": solo autenticaci\xf3n y control de acceso como AuthUserFile o Require"),Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"AllowOverride AuthConfig Indexes"),": permite combinar estas directivas")),Object(n.b)("h3",{id:"la-secci\xf3n-location"},'La secci\xf3n "Location"'),Object(n.b)("p",null,"Permite aplicar directivas a URLs con una forma espec\xedfica"),Object(n.b)("h3",{id:"secciones-diretorymatch-y-locationmatch"},'Secciones "DiretoryMatch y LocationMatch"'),Object(n.b)("p",null,"Permiten poner ",Object(n.b)("strong",{parentName:"p"},"expresiones regulares")," en vez de un diretorio o ruta a un recurso"),Object(n.b)("hr",null),Object(n.b)("h2",{id:"variables-de-entorno"},"Variables de entorno"),Object(n.b)("p",null,"Referencia a variables de entorno en la configuraci\xf3n de apache"),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},"User ${APACHE_RUN_USER}\n")),Object(n.b)("p",null,"Archivo de variables de entorno de apache"),Object(n.b)("p",null,Object(n.b)("strong",{parentName:"p"},Object(n.b)("em",{parentName:"strong"},"/etc/apache2/envvars"))),Object(n.b)("hr",null),Object(n.b)("h2",{id:"virtual-host"},"Virtual Host"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},'Crear un nuevo fichero "nombre-host.conf" en /etc/apache2/sites-available')),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Copiar el c\xf3digo:"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"}," <VirtualHost *:8081> # Tambi\xe9n se puede especificar una IP concreta en caso de disponer de varias IPs. *:* o * (cualquier ip y cualquier puerto)\n\n     ServerName wwww.test.local\n     ServerAlias test.local www.test.local  # Para host virtuales basados en nombre\n     ServerAdmin webmaster@localhost\n     DocumentRoot /var/www/test\n\n     ErrorLog ${APACHE_LOG_DIR}/error.log\n     CustomLog ${APACHE_LOG_DIR}/access.log combined\n\n </VirtualHost>\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Si no es el puerto 80, se debe habilitar en ports.conf agregando:"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"Listen 8081\n# O IP + Puerto\nListen 192.168.0.200:8081\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Crear un enlace simb\xf3lico y relativo del fichero creado a /etc/apache2/sites-enabled"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"ln -rs /etc/apache2/sites-available/nombre-host.conf /etc/apache2/sites-enabled/nombre-host.conf\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Habilitar el sitio (comandos para ubuntu)"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"a2ensite\n# dehabilitar\na2dissite\n# O tambi\xe9n...\na2ensite <nombre-host>\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Reiniciar apache"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"sudo service apache2 restart\n# O tambien...\nsudo apache2ctl restart\n# Comprobar la configuraci\xf3n\nsudo apache2ctl test\n")))),Object(n.b)("hr",null),Object(n.b)("h2",{id:"m\xf3dulos"},"M\xf3dulos"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},Object(n.b)("strong",{parentName:"p"},"Directiva para cargar m\xf3dulos (previamente compilados)")),Object(n.b)("p",{parentName:"li"},Object(n.b)("inlineCode",{parentName:"p"},"LoadModule"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},Object(n.b)("strong",{parentName:"p"},"Instalar / Desinstalar m\xf3dulos")),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"apt-get install libapache2-mod-gnutls\napt-get remove libapache2-mod-gnutls\n"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},Object(n.b)("strong",{parentName:"p"},"Activar / Desactivar modulos (Debian y derivados)")),Object(n.b)("p",{parentName:"li"},Object(n.b)("inlineCode",{parentName:"p"},"a2enmod / a2dismod + nombre-modulo")),Object(n.b)("p",{parentName:"li"},"Los modulos tienen dos ficheros:"),Object(n.b)("ul",{parentName:"li"},Object(n.b)("li",{parentName:"ul"},".conf para la configuraci\xf3n"),Object(n.b)("li",{parentName:"ul"},".load para la carga del m\xf3dulo"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},Object(n.b)("strong",{parentName:"p"},"Comprobar m\xf3dulos est\xe1ticos y din\xe1micos")),Object(n.b)("p",{parentName:"li"},Object(n.b)("inlineCode",{parentName:"p"},"apache2ctl -M")),Object(n.b)("ul",{parentName:"li"},Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"Est\xe1ticos")," Compilados en el core de Apache"),Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"Din\xe1micos")," Se puede a\xf1adir/eliminar"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},Object(n.b)("strong",{parentName:"p"},"Directorio de los m\xf3dulos disponibles")),Object(n.b)("p",{parentName:"li"},Object(n.b)("inlineCode",{parentName:"p"},"etc/apache2/mods-available"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"Directorio para enlaces simbolicos a los m\xf3dulos disponibles"),Object(n.b)("p",{parentName:"li"},Object(n.b)("inlineCode",{parentName:"p"},"etc/apache2/mods-enabled"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"Habilitar UTF-8"),Object(n.b)("p",{parentName:"li"},Object(n.b)("inlineCode",{parentName:"p"},"sudo vim /etc/apache2/conf-available/charset.conf")))),Object(n.b)("blockquote",null,Object(n.b)("p",{parentName:"blockquote"},Object(n.b)("strong",{parentName:"p"},"Operaciones sobre m\xf3dulos"))),Object(n.b)("table",null,Object(n.b)("thead",{parentName:"table"},Object(n.b)("tr",{parentName:"thead"},Object(n.b)("th",{parentName:"tr",align:null},"Operacion"),Object(n.b)("th",{parentName:"tr",align:null},"Forma gen\xe9rica"),Object(n.b)("th",{parentName:"tr",align:null},"Ejemplo"))),Object(n.b)("tbody",{parentName:"table"},Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"Instalar"),Object(n.b)("td",{parentName:"tr",align:null},"apt-get install nombre-modulo"),Object(n.b)("td",{parentName:"tr",align:null},"apt-get install libapache2-mod-gnutls")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"Desinstalar"),Object(n.b)("td",{parentName:"tr",align:null},"apt-get remove nombre-modulo"),Object(n.b)("td",{parentName:"tr",align:null},"apt-get remove libapache2-mod-gnutls")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"Habilitar"),Object(n.b)("td",{parentName:"tr",align:null},"a2enmod nombre-modulo-apache"),Object(n.b)("td",{parentName:"tr",align:null},"a2enmod ssl")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"Deshabilitar"),Object(n.b)("td",{parentName:"tr",align:null},"a2dismod nombre-modulo-apache"),Object(n.b)("td",{parentName:"tr",align:null},"a2dismod ssl")))),Object(n.b)("blockquote",null,Object(n.b)("p",{parentName:"blockquote"},Object(n.b)("strong",{parentName:"p"},"Recargar apache para habiliar los m\xf3dulo"),"s")),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},"/etc/init.d/apache2 restart\n# O...\n/etc/init.d/apache2 reload\n")),Object(n.b)("hr",null),Object(n.b)("h2",{id:"tipos-mime"},"Tipos MIME"),Object(n.b)("p",null,"Multipurpose Internet Mail Extensions"),Object(n.b)("p",null,"Especifica c\xf3mo un programa debe transferir archivos de texto, imagen, audio, v\xeddeo o cualquier archivo que no est\xe9 codificado en US-ASCII.\nSe especifican en las cabeceras HTTP"),Object(n.b)("p",null,"Respuesta del servidor:"),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},"Content-Type: text/html, application/json\n")),Object(n.b)("p",null,"Petici\xf3n del cliente:"),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},"Accept: text/html, application/json\n# Aceptar cualquier tipo MIME\nAccept: */*\n")),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},Object(n.b)("strong",{parentName:"p"},"Configuraci\xf3n de Apache para los tipos MIME")),Object(n.b)("p",{parentName:"li"},"M\xf3dulo: ",Object(n.b)("strong",{parentName:"p"},Object(n.b)("em",{parentName:"strong"},"mod_mime"))," (activo por defecto)"),Object(n.b)("p",{parentName:"li"},Object(n.b)("strong",{parentName:"p"},"Directivas interesantes de este m\xf3dulo:")),Object(n.b)("ul",{parentName:"li"},Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"ForceType"),' Todos los archivos de un directorio se sirven con el tipo especificado. Valido en "Directory, Files, Location y .htaccess"')),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"    ForceType image/png\n")),Object(n.b)("ul",{parentName:"li"},Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"AddType")," Especifica el tipo MIME que se debe usar para una o m\xe1s extensiones.")),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"# Para extensiones .imagen a .png\n    AddType image/png imagen\n")))),Object(n.b)("hr",null),Object(n.b)("h2",{id:"autenticaci\xf3n-y-autorizaci\xf3n"},"Autenticaci\xf3n y autorizaci\xf3n"),Object(n.b)("p",null,"Esquemas de autenticaci\xf3n HTTP:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"Basic")," Se envian usuario y clave codificados en BASE64. Recomendado SSL (HTTPS)"),Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"Digest")," Se utilizan funciones Hash para enviar las credenciales de acceso")),Object(n.b)("p",null,"Proceso de autenticaci\xf3n"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},"El servidor, cuando el cliente solicita un recurso, le pedir\xe1 al cliente web las credenciales de acceso"),Object(n.b)("li",{parentName:"ol"},"El cliente web recibe la petici\xf3n y solicita al usuario las credenciales"),Object(n.b)("li",{parentName:"ol"},"El cliente web env\xeda las credenciales al servidor y si los datos son correctos responder\xe1 con el recurso solicitado")),Object(n.b)("h3",{id:"autenticaci\xf3n"},"Autenticaci\xf3n"),Object(n.b)("p",null,"M\xf3dulos:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"mod_auth_basic")," Permite que el servidor solicite al cliente las credenciales con el m\xe9todo Basic"),Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"mod_auth_digest")," Permite que el servidor solicite al cliente las credenciales con el m\xe9todo Digest")),Object(n.b)("p",null,"Los datos de los usuarios se pueden almacenar en:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Base de datos. M\xf3dulos: ",Object(n.b)("strong",{parentName:"li"},Object(n.b)("em",{parentName:"strong"},"mod_authn_dbd y mod_dbd"))),Object(n.b)("li",{parentName:"ul"},"Servicio de directorio LDAP. M\xf3dulos: ",Object(n.b)("strong",{parentName:"li"},Object(n.b)("em",{parentName:"strong"},"mod_authnz_ldapd"))),Object(n.b)("li",{parentName:"ul"},"En archivo. M\xf3dulo: ",Object(n.b)("strong",{parentName:"li"},Object(n.b)("em",{parentName:"strong"},"mod_authn_file")))),Object(n.b)("p",null,"Modo de limitar los recursos"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Para usuarios concretos. M\xf3dulo: ",Object(n.b)("strong",{parentName:"li"},Object(n.b)("em",{parentName:"strong"},"mod_authz_user"))),Object(n.b)("li",{parentName:"ul"},"Para grupos. M\xf3dulo: ",Object(n.b)("strong",{parentName:"li"},Object(n.b)("em",{parentName:"strong"},"mod_authz_groupfile")))),Object(n.b)("h4",{id:"ejemplo-con-esquema-basic"},"Ejemplo con esquema Basic"),Object(n.b)("p",null,"M\xf3dulos: mod_auth_basic, mod_authn_file, mod_authz_user"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Crear un archivo con usuarios y contrase\xf1as"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"htpasswd -c /etc/apache2/user_list admin\n# Nos solicitar\xe1 la contrase\xf1a\n# Si el archivo esta creado con anterioridad el -c nos e utiliza\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Configurar Apache para usar autenticaci\xf3n sobre un directorio. En una secci\xf3n ",Object(n.b)("strong",{parentName:"p"},Object(n.b)("em",{parentName:"strong"},"Directory"))," o en un archivo ",Object(n.b)("strong",{parentName:"p"},Object(n.b)("em",{parentName:"strong"},".htaccess"))),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},'# Indicar el Directory donde se efecuara el control de acceso\nAuthType Basic\nAuthName "Debe introducir usuario y contrase\xf1a para seguir"\nAuthBasicProvider file\nAuthUserFile /etc/apache2/user_list\nRequire user admin # otros usuarios separados por espacio\n# Require valid-user (para todos los usuarios existentes en la lista)\n')))),Object(n.b)("h4",{id:"autenticaci\xf3n-mediante-ldap"},"Autenticaci\xf3n mediante LDAP"),Object(n.b)("p",null,"M\xf3dulos: mod_ldap y mod_authnz_ldap"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},"Habilitar los m\xf3dulos")),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},"sudo a2enmod ldap\nsudo a2enmod authnz_ldap\n")),Object(n.b)("h4",{id:"existen-otros-m\xf3dulos-de-autenticaci\xf3n-anon-dbd-dbm-file-socache"},"Existen otros m\xf3dulos de autenticaci\xf3n: anon, dbd, dbm, file, socache"),Object(n.b)("h3",{id:"otras-formas-de-limitar-los-recursos"},"Otras formas de limitar los recursos"),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},"# Denegar acceso a todo el mundo\nRequire all denied\n# Aceptar acceso a todo el mundo\nRequire all granted\n# Habiliar acceso a una IP Cliente concreta\nRequire ip 10.20.30.40\n# Deshabilitar acceso ana IP Cliente concreta\nRequire not ip 10.20.30.40\n# Rango de IPs\nRequire ip 10.20\n")),Object(n.b)("p",null,"Todos los casos anteriores devuelven el c\xf3digo de estado 403 (acceso no permitido o prohibido)"),Object(n.b)("h3",{id:"redirecci\xf3n"},"Redirecci\xf3n"),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},"ServerName www.miejemplo.local\nDocumentRoot /var/www/html/diretoriolimitado\nRedirect /recursoantiguo http://www.miejemplo.local/recursonuevo\n")),Object(n.b)("hr",null),Object(n.b)("h2",{id:"ssltls---https"},"SSL/TLS - HTTPS"),Object(n.b)("p",null,"M\xf3dulo: ",Object(n.b)("strong",{parentName:"p"},"mod_ssl")),Object(n.b)("p",null,"Este m\xf3dulo proporciona SSL y TLS. Esta basado en OpenSSL"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Activar el m\xf3dulo SSL"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"a2enmod ssl\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Crear un nuevo VirtualHost que contenga:"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"SSLEngine on\nSSLCertificateFile /etc/ssl/certs/ssl-cert-snakeoil.pem\nSSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key\n")))),Object(n.b)("h3",{id:"generar-certificado-digital-autofirmado"},"Generar certificado digital autofirmado"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Instalar OpenSSL"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"sudo apt-get install openssl\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Generar el certificado autofirmado junto a la clave privada"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"make-ssl-cert /usr/share/ssl-cert/ssleay.cnf /etc/apache2/my-ssl/apache.pem\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Modificar el VirtualHost para la nueva clave y certificado"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"SSLEngine on\nSSLCertificateFile /etc/apache2/my-ssl/apache.pem\nSSLCertificateKeyFile /etc/apache2/my-ssl/apache.pem\n")))),Object(n.b)("h3",{id:"generar-certificados-con-openssl"},"Generar certificados con OpenSSL"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Generar la clave privada y el archivo de solicitud de certificado"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"sudo openssl req -new -nodes -keyout test.key -out test.csr\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Autofirmar el certificado"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"sudo openssl x509 -in test.csr -out test.crt -req -signkey test.key -days 3650\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Modificar el VirtualHost para la nueva clave y certificado"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"SSLEngine on\nSSLCertificateFile /etc/apache2/my-ssl/test.crt\nSSLCertificateKeyFile /etc/apache2/my-ssl/test.key\n")))),Object(n.b)("hr",null),Object(n.b)("h2",{id:"log"},"Log"),Object(n.b)("h3",{id:"log-de-apache-en-formato-clf"},"Log de apache en formato CLF"),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},'192.168.200.100  - [05/May/2011:17:19:18 +0200] "GET /index.html HTTP/1.1" 200 20\n# - (campo sin valor)\n')),Object(n.b)("h3",{id:"comprobar-logs-en-linux"},"Comprobar logs en Linux"),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},"tail -f nombre-archivo-registro.log\n")),Object(n.b)("table",null,Object(n.b)("thead",{parentName:"table"},Object(n.b)("tr",{parentName:"thead"},Object(n.b)("th",{parentName:"tr",align:null},"campos(especificadores)"),Object(n.b)("th",{parentName:"tr",align:null},"definicion"),Object(n.b)("th",{parentName:"tr",align:null},"Ejemplo"))),Object(n.b)("tbody",{parentName:"table"},Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"host (%h)"),Object(n.b)("td",{parentName:"tr",align:null},"Equipo cliente"),Object(n.b)("td",{parentName:"tr",align:null},"192.168.200.100")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"ident (%l)"),Object(n.b)("td",{parentName:"tr",align:null},"Cuando el cliente ejecuta identd y la directiva IdentityCheck esta activa"),Object(n.b)("td",{parentName:"tr",align:null})),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"authuser (%u)"),Object(n.b)("td",{parentName:"tr",align:null},"URL requiere autenticaci\xf3n"),Object(n.b)("td",{parentName:"tr",align:null})),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"date (%t)"),Object(n.b)("td",{parentName:"tr",align:null},"Formato: ","[dia/mes/a\xf1o:hora:minuto:segundo zona]"),Object(n.b)("td",{parentName:"tr",align:null},"[05/May/2011:17:19:18 +0200]")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"request (%r)"),Object(n.b)("td",{parentName:"tr",align:null},"Recurso solicitado"),Object(n.b)("td",{parentName:"tr",align:null},"/index.html")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"status (%s O %",">","s)"),Object(n.b)("td",{parentName:"tr",align:null},"c\xf3digo de estado devuelto"),Object(n.b)("td",{parentName:"tr",align:null},"200")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"bytes (%b)"),Object(n.b)("td",{parentName:"tr",align:null},"bytes devueltos al cliente"),Object(n.b)("td",{parentName:"tr",align:null},"20")))),Object(n.b)("h3",{id:"directivas-para-archivos-de-registro"},"Directivas para archivos de registro"),Object(n.b)("table",null,Object(n.b)("thead",{parentName:"table"},Object(n.b)("tr",{parentName:"thead"},Object(n.b)("th",{parentName:"tr",align:null},"Directiva"),Object(n.b)("th",{parentName:"tr",align:null},"Sintaxis"),Object(n.b)("th",{parentName:"tr",align:null},"Uso"))),Object(n.b)("tbody",{parentName:"table"},Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"TransferLog"),Object(n.b)("td",{parentName:"tr",align:null},"TransferLog nombre-fichero ","|"," tuber\xeda a programa de registro"),Object(n.b)("td",{parentName:"tr",align:null},"1\xba. LogFormat",Object(n.b)("br",null),"2\xba.Archivo donde se guardar\xe1n los logs")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"LogFormat"),Object(n.b)("td",{parentName:"tr",align:null},"LogFormat format ","|"," alias_logformat ","[alias_logformat]"),Object(n.b)("td",{parentName:"tr",align:null},'1\xba LogFormat "%h %l %u %t %r" %>s %0" common',Object(n.b)("br",null),"common = alias",Object(n.b)("br",null),"Es habitual definir formatos de log globalmente")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"ErrorLog"),Object(n.b)("td",{parentName:"tr",align:null},"ErrorLog nombre-fichero"),Object(n.b)("td",{parentName:"tr",align:null},"ErrorLog logs/nombre-fichero.log")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"CustomLog"),Object(n.b)("td",{parentName:"tr",align:null},"CustomLog nombre-fichero ","|"," tuber\xeda-programa-registro formato ","|"," nickname ","[env opcional]"),Object(n.b)("td",{parentName:"tr",align:null},'Custom logs/acceso-temporal.log "formato..."',Object(n.b)("br",null),"CustomLog logs/acceso-temporal.log common")))),Object(n.b)("h3",{id:"rotar-los-archivos-de-log-para-controlar-su-tama\xf1o-en-el-tiempo"},"Rotar los archivos de log para controlar su tama\xf1o en el tiempo"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"rotatelogs")," Apache"),Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"logrotate")," GNU/Linux")),Object(n.b)("p",null,"Ejemplos:"),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},'CustomLog "|/ruta_rotatelogs ruta_log_a_rotar numbero_segundos | tama\xf1o m\xe1ximo MB" alias_logformat\n\n# Sufijo, MB m\xe1ximos por archivo y N\xba de archivos en disco\nCustomLog "|/usr/bin/rotatelogs -n 10 /var/log/accesslog.%Y-%m-%d-%H_%M_%S 5M" common\n\n# Apache >= 2.4\nCustomLog "|$rotatelogs -n 10 /var/log/apache2/access.log 5M" common\n')),Object(n.b)("h3",{id:"encontrar-rotatelogs-en-linux-o-instalar-en-caso-necesario"},"Encontrar rotatelogs en Linux o instalar en caso necesario"),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},"whereis rotatelogs\n# A veces ser\xe1 necesario instalar....\nsudo apt-get install apache2-utils\n")),Object(n.b)("h3",{id:"uso-de-logrotate-linux"},"Uso de logrotate (Linux)"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Configuraci\xf3n global: ",Object(n.b)("strong",{parentName:"li"},"/etc/logrotate.conf")),Object(n.b)("li",{parentName:"ul"},"Configuraci\xf3n espec\xedfica: ",Object(n.b)("strong",{parentName:"li"},"/etc/logrotate.d/apache2"))),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-sh"},"# Comprobar la correcta configuraci\xf3n\n/usr/sbin/logrotate -d /etc/logrotate.d/apache2\n\n# Forzar la ejecuci\xf3n de logrotate\n/usr/sbin/logrotate -f /etc/logrotate.conf\n\n# Ejecutar logrotate con tareas cron\n")),Object(n.b)("hr",null),Object(n.b)("h2",{id:"tomcat"},"Tomcat"),Object(n.b)("h3",{id:"instalaci\xf3n-desde-repositorio"},"Instalaci\xf3n desde repositorio"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Comprobar los paquetes existentes en el repositorio"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"}," apt-cache search tomcat -n\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Comprobar las dependencias de tomcat"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"apt-cache depends tomcat9 tomcat9-common\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},Object(n.b)("strong",{parentName:"p"},"OPCIONAL"),". Instalar el JDK (contiene entorno de desarrollo y ejecuci\xf3n)"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"}," # Comprobar las dependencias del JDK por defecto\n apt-cache depends default-jdk-headless\n # Instalar el JDK\n sudo apt-get install default-jdk-headless\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Instalar Tomcat. Se instalaran las dependencias necesarias (Ej. JRE)"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"sudo apt-get install tomcat9 tomcat9-common tomcat9-admin tomcat9-docs\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Comprobar donde se instala el JDK"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"# Compruebo el nombre del paquete\nsudo dpkg -l | grep openjdk\n# Compruebo los directorios y ****ficheros**** del paquete\nsudo dpkg -L nombre-paquete\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Compruebo rutas de instalaci\xf3n de Tomcat"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"sudo dpkg -L <nombre-paquete-tomcat>\n# /var/lib/tomcat9 --\x3e carpeta principal\n# /etc/tomcat9 --\x3e carpeta de configuraci\xf3n\n# /var/log/tomcat9 --\x3e logs del servidor\n# /var/lib/tomcat9/webapps --\x3e aplicaciones web en formato expandido\n# /usr/share/tomcat/bin --\x3e scripts de tomcat (iniciar, parar, configuraci\xf3n, etc)\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Arrancar / Parar el servicio de tomcat"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"sudo service tomcat9 start\nsudo service tomcat9 stop\nsudo service tomcat9 restart\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Comprobar en \\IP:\\PUERTO que se esta ejecutando correctamente"))),Object(n.b)("h3",{id:"instalaci\xf3n-manual"},"Instalaci\xf3n manual"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Instalar el JDK compatible a la ",Object(n.b)("strong",{parentName:"p"},"versi\xf3nd")," de tomcat que se utilizar\xe1")),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Ir al diretorio /opt y descargar el binario del core de tomcat"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"sudo wget url-binarios-core-tomcat\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Extraer los archivos"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"sudo tar xfz fichero-descargado.gz\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Cambiar los permisos del directorio al usuario deseado o dejar permisos root"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"sudo chown -R usuario:grupo-usuario directorio\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Ejercutar Tomcat"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",{parentName:"pre",className:"language-sh"},"sudo sh /opt/directorio-tomcat/bin/catalina.sh start\n"))),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Comprobar su ejecuci\xf3n en \\IP:\\PUERTO"))))}b.isMDXComponent=!0},89:function(e,a,t){"use strict";t.d(a,"a",(function(){return p})),t.d(a,"b",(function(){return d}));var r=t(0),n=t.n(r);function l(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function c(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?c(Object(t),!0).forEach((function(a){l(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function i(e,a){if(null==e)return{};var t,r,n=function(e,a){if(null==e)return{};var t,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var b=n.a.createContext({}),s=function(e){var a=n.a.useContext(b),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},p=function(e){var a=s(e.components);return n.a.createElement(b.Provider,{value:a},e.children)},m={inlineCode:"code",wrapper:function(e){var a=e.children;return n.a.createElement(n.a.Fragment,{},a)}},u=n.a.forwardRef((function(e,a){var t=e.components,r=e.mdxType,l=e.originalType,c=e.parentName,b=i(e,["components","mdxType","originalType","parentName"]),p=s(t),u=r,d=p["".concat(c,".").concat(u)]||p[u]||m[u]||l;return t?n.a.createElement(d,o(o({ref:a},b),{},{components:t})):n.a.createElement(d,o({ref:a},b))}));function d(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var l=t.length,c=new Array(l);c[0]=u;var o={};for(var i in a)hasOwnProperty.call(a,i)&&(o[i]=a[i]);o.originalType=e,o.mdxType="string"==typeof e?e:r,c[1]=o;for(var b=2;b<l;b++)c[b]=t[b];return n.a.createElement.apply(null,c)}return n.a.createElement.apply(null,t)}u.displayName="MDXCreateElement"}}]);